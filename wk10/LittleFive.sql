/* SQL file for INFO I308 */

/* Drop tables if they exist. Add more DROP TABLE statements as you create more tables*/
DROP TABLE IF EXISTS B_results;
DROP TABLE IF EXISTS B_race;
DROP TABLE IF EXISTS B_member;
DROP TABLE IF EXISTS B_team;
DROP TABLE IF EXISTS B_rider;

/* Create all tables. Order matters due to foreign keys. */

CREATE TABLE B_rider (
id INT AUTO_INCREMENT,
fname VARCHAR(30) NOT NULL,
lname VARCHAR(30),
dob DATE,
hometown VARCHAR(40),
gender CHAR(1),
PRIMARY KEY (id)
) ENGINE = innodb;

CREATE TABLE B_team (
id INT AUTO_INCREMENT,
tname VARCHAR(50) NOT NULL,
year_formed YEAR,
PRIMARY KEY (id)
) ENGINE = innodb;

CREATE TABLE B_member (
rider_id INT NOT NULL,
team_id INT NOT NULL,
joined_date  DATE,
leave_date DATE,
FOREIGN KEY (rider_id) REFERENCES B_rider(id),
FOREIGN KEY (team_id) REFERENCES B_team(id)
) ENGINE = innodb;

CREATE TABLE B_race (
id INT not null,
race_year YEAR,
weather VARCHAR(50),
laps INT,
PRIMARY KEY (id)
) ENGINE = innodb;

CREATE TABLE B_results (
race_id INT NOT NULL,
team_id INT NOT NULL,
ev_name VARCHAR(60) NOT NULL,
finish INT,
fin_time time,
FOREIGN KEY (team_id) REFERENCES B_team(id), 
FOREIGN KEY (race_id) REFERENCES B_race(id)
) ENGINE = innodb;


/* Inserting data into tables. Order matters because of foreign keys. */

INSERT INTO B_rider (id, fname, lname, dob, hometown, gender) VALUES
(100, 'Leo', 'Sweitzer', '2006-11-06 ', 'Naperville, Illinois', 'M' ),
(101, 'Brady', 'Larkin', '2000-07-22', 'Gilmer, Texas', 'M' ),
(102, 'McGuire', 'Wolf', '2004-07-19', 'San Diego, California', 'M' ),
(103, 'Zack', 'Villareal', '2002-03-08','Valparaiso, Indiana','M' ),
(104, 'Zane', 'Snider', '2005-11-20','Carmel, Indiana','M' ),
(105, 'Kan', 'Kikuchi', '2003-04-12','Niigata, Japan','M' ),
(106, 'Dan', 'Brady', '1997-11-19','Topeka, Kansas','M' ),
(107, 'Fran', 'McGrady', '1995-09-2','Chicago, Illinois','M' ),
(108, 'Bob', 'Green', '1990-01-21','Tampa, Florida','M' ),
(109, 'Rob', 'Brown', '1987-02-12','Indianapolis, Indiana','M' ),
(110, 'Will', 'Walker', '1950-11-01','Greencastle, Indiana','M' ),
(111, 'Bill', 'Jumper', '1948-09-26','Dublin, Ohio','M' ),
(112, 'Torin', 'Kray-Mawhorr', '2002-12-12', 'Bloomington, Indiana', 'M'),
(113, 'Peyton', 'Gaskill', '2004-11-30', 'Detroit, Michigan', 'M'),
(114, 'Jacob', 'Koone', '2003-10-20', 'San Francisco, California', 'M'),
(115, 'Judah', 'Thompson', '2001-04-04', 'Amarillo, Texas', 'M'),
(116, 'Birch', 'Thomas', '1996-09-09', 'St. Louis, Missouri', 'M'),
(117, 'Elm', 'Xavier', '1995-05-05', 'Decatur, Illinois', 'M'),
(118, 'Gus', 'Mouse', '1989-01-01', 'South Bend, Indiana', 'M'),
(119, 'Jac', 'Ratto', '1990-08-08', 'Elkhart, Indiana', 'M'),
(120, 'Jimmy', 'Stevens', '1950-06-21', 'Aurora, Colorado', 'M'),
(121, 'Orlando', 'Crawford', '1950-07-08', 'Virginia Beach, Virgina', 'M'),
(122, 'Kieran', 'Conner', '1951-01-02', 'Terre Haute, Indiana', 'M'),
(123, 'Chris', 'Galvan', '1952-08-20', 'Albuquerque, New Mexico', 'M'),
(124, 'Omar', 'Rivas', '1962-11-19', 'Atlanta, Georgia', 'M'),
(125, 'Kieran', 'Sykes', '1962-10-02', 'San Diego, California', 'M'),
(126, 'Lyle', 'Lawson', '1963-11-15', 'Nashville, Tennessee', 'M'),
(127, 'Matthew', 'Coffey', '1964-09-26', 'Oakland, California', 'M'),
(128, 'Enzo', 'Soto', '1969-07-19', 'Copenhagen, Denmark', 'M'), 
(129, 'Kaiden', 'Odling', '1970-02-27', 'San Antonio, Texas', 'M'),
(130, 'Macauley', 'Kirk', '1971-03-28', 'Madison, Wisconsin', 'M'),
(131, 'Dillan', 'Richmond', '1971-05-03', 'St. Louis, Missouri', 'M'),
(132, 'Erica', 'Landry', '1980-02-13', 'Kansas City, Missouri', 'F'),
(133, 'Farrah', 'Price', '1981-10-05', 'New Albany, Indiana', 'F'),
(134, 'Sonia', 'Whitaker', '1982-07-25', 'Jacksonville, Florida', 'F'),
(135, 'Jocelyn', 'Boyer', '1984-09-29','Tulsa, Oklahoma', 'F'),
(136, 'Jorge', 'Avila', '1985-12-30', 'Phoenix, Arizona', 'M'),
(137, 'Bryan', 'Hall', '1985-03-04', 'Muncie, Indiana', 'M'),
(138, 'Francis', 'Halen', '1986-01-29', 'Fort Wayne, Indiana', 'M'),
(139, 'Ben', 'Williams', '1987-04-16', 'Cincinnati, Ohio', 'M'),
(140, 'Finn', 'Dyer', '1994-01-09', 'Columbus, Ohio', 'M'),
(141, 'Keyaan', 'Walters', '1995-10-20', 'Brussels, Belgium', 'M'),
(142, 'Shawn', 'Cole', '1995-11-17', 'Lebanon, Indiana', 'M'),
(143, 'Jared', 'Wyatt', '1996-08-13', 'Philadelphia, Pennsylvania', 'M'),
(144, 'Keira', 'Davies', '2000-11-11', 'Plano, Texas', 'F'),
(145, 'Sydney', 'McMillan', '2001-03-19', 'South Bend, Indiana', 'F'),
(146, 'Hermoine', 'Hopkins', '2002-04-18', 'Tuscon, Arizona', 'F'),
(147, 'Dulcie', 'Chandler', '2002-12-01', 'Rochester, New York', 'F'),
(148, 'Julia', 'Roy', '2003-08-14', 'Evanston, Illinois', 'F'),
(149, 'Claire', 'Hayes', '2003-11-25', 'Davie, Florida', 'F'),
(150, 'Dawn', 'Chase', '2004-02-10', 'Davenport, Iowa', 'F'),
(151, 'Tasha', 'Hartman', '2005-05-16', 'Columbia, Missouri', 'F'),
(152, 'Cathy', 'Winters', '1992-10-05', 'Minneapolis, Minnesota', 'F'),
(153, 'Sarah', 'Kendall', '1992-12-26', 'Newburgh, Indiana', 'F'),
(154, 'Stephanie', 'Mann', '1992-01-26', 'Fort Worth, Texas', 'F'),
(155, 'Deborah', 'Coffey', '1993-06-24', 'Bowling Green, Kentucky', 'F'),
(156, 'Alexander', 'Bowman', '2004-04-12', 'Lawrence, Kansas', 'M'),
(157, 'Craig', 'Schwartz', '2005-11-23', 'Bozeman, Montana', 'M'),
(158, 'Pat', 'Matthews', '2005-02-28', 'Vancouver, Canada', 'M'),
(159, 'Aaron', 'Parker', '2006-01-30', 'Jeffersonville, Indiana', 'M')
;

INSERT INTO B_team (id, tname, year_formed) VALUES
(500, 'Black Key Bulls', 1961),
(501, 'Cutters', 1984),
(502, 'Forest', 1990),
(503, 'Delta Tau Delta', 1951),
(504, 'Sigma Nu', 1951),
(505, 'Acacia', 1951),
(506, 'Delta Gamma', 1988)
;

INSERT INTO B_member VALUES
(100, 500, '2023-09-01', NULL),
(101, 500, '2022-04-01', NULL),
(102, 500, '2021-09-01', NULL),
(103, 500, '2023-04-01', NULL),
(104, 500, '2022-09-01', '2024-07-31'),
(105, 500, '2021-04-01', '2024-01-18'),
(106, 500, '2013-08-01', '2015-07-23'),
(107, 500, '2014-08-01', '2016-03-28'),
(108, 500, '2006-05-01', '2009-07-10'),
(109, 500, '2005-03-21', '2010-08-18'),
(110, 500, '1967-10-09', '1971-10-01'),
(111, 500, '1966-08-29', '1969-07-01'),
(112, 501, '2022-07-15', NULL),
(113, 501, '2021-06-21', NULL),
(114, 501, '2023-01-01', NULL),
(115, 501, '2021-02-08', '2024-05-01'),
(116, 501, '2014-01-01', '2017-07-01'),
(117, 501, '2013-02-02', '2016-07-01'),
(118, 501, '2006-01-19', '2009-03-03'),
(119, 501, '2007-09-01', '2010-04-04'),
(120, 503, '1968-11-03', '1972-07-31'),
(121, 503, '1968-09-12', '1972-06-30'),
(122, 503, '1969-02-03', '1972-01-14'),
(123, 503, '1970-04-14', '1974-05-16'),
(124, 503, '1980-07-31', '1984-05-02'),
(125, 503, '1981-01-19', '1984-12-20'),
(126, 503, '1981-08-26', '1985-05-07'),
(127, 503, '1982-09-27', '1986-03-31'),
(128, 504, '1987-11-06', '1991-11-20'),
(129, 504, '1988-03-04', '1992-10-02'),
(130, 504, '1988-06-16', '1992-02-10'),
(131, 504, '1989-12-21', '1993-09-15'),
(132, 502, '1999-05-11', '2003-05-13'),
(133, 502, '1999-08-04', '2003-05-09'),
(134, 502, '2000-10-22', '2004-03-12'),
(135, 502, '2002-04-19', '2006-04-29'), 
(136, 504, '2003-06-05', '2007-06-11'),
(137, 504, '2003-03-02', '2007-08-18'),
(138, 504, '2004-01-20', '2008-07-08'),
(139, 504, '2005-04-21', '2009-01-19'),
(140, 505, '2012-05-15', '2016-04-30'),
(141, 505, '2013-09-07', '2017-07-28'),
(142, 505, '2013-03-07', '2017-09-22'),
(143, 505, '2014-06-02', '2018-10-15'),
(144, 506, '2018-02-17', '2022-06-02'),
(145, 506, '2019-03-26', '2023-03-25'),
(146, 506, '2020-08-30', '2024-07-24'),
(147, 506, '2020-09-05', '2024-05-09'),
(148, 506, '2020-01-15', '2021-05-06'),
(148, 506, '2021-09-30', NULL),
(149, 506, '2021-08-19', NULL),
(150, 506, '2022-01-14', NULL),
(151, 506, '2023-04-27', NULL),
(152, 502, '2000-08-08', '2004-04-27'),
(153, 502, '2000-09-07', '2004-06-28'),
(154, 502, '2000-12-13', '2004-01-05'),
(155, 502, '2001-11-24', '2005-11-26'),
(156, 504, '2022-07-08', NULL),
(157, 504, '2023-01-12', '2024-05-11'),
(158, 504, '2023-04-25', NULL),
(159, 504, '2024-08-19', NULL)
;

INSERT INTO B_race (id, race_year, weather, laps) VALUES
(1001,'2024', 'Cloudy', 200),
(1002,'2015', 'Sunny', 200),
(1003,'2008', 'Light Rain', 200),
(1004,'1969', 'Windy', NULL),
(1005,'2023', 'Sunny', 200),
(1006,'2007', 'Partly Cloudy', 200),
(1007,'2016', 'Heavy Rain', 200),
(1008,'2008', 'Overcast', 200),
(1009,'2001', 'Partly Sunny', 200),
(1011,'1970', 'Light Rain', 200),
(1012,'1971', 'Sunny', 200),
(1013,'1982', 'Cloudy', 200),
(1014,'1984', 'Overcast', NULL),
(1015,'1990', 'Windy', NULL),
(1016,'1991', 'Partly Cloudy', 200),
(1017,'2017', 'Sunny', 200),
(1018,'2021', 'Light Rain', 200),
(1019,'2022', 'Windy', 200)
;

/*Finish is place finished in B_race */
INSERT INTO B_results (race_id, team_id, ev_name, finish, fin_time) VALUES
(1001, 500, 'Little 500', 1, '2:12:24'),
(1001, 500, 'Qualifications', 3, '00:02:28'),
(1001, 500, 'Team Pursuit', 1, '00:09:33'),
(1002, 500, 'Little 500', 2, '2:19:31'),
(1002, 500, 'Qualifications', 6, '00:02:26'),
(1002, 500, 'Team Pursuit', 1, '00:09:07'),
(1003, 500, 'Little 500', 8, '02:11:32'),
(1003, 500, 'Qualifications', 17, '00:02:32'),
(1003, 500, 'Team Pursuit', 4, '00:09:20'),
(1004, 500, 'Bike-A-Thon', 1, NULL),
(1004, 500, 'Qualifications', 3, NULL),
(1001, 501, 'Little 500', 2, '2:12:27'),
(1001, 501, 'Qualifications', 2, '00:02:33'),
(1001, 501, 'Team Pursuit', 18, '00:10:16'),
(1002, 501, 'Little 500', 7, '02:08:06'),
(1002, 501, 'Qualifications', 4, '00:02:24'),
(1002, 501, 'Team Pursuit', 8, '00:09:23'),
(1003, 501, 'Little 500', 1, '02:10:00'),
(1003, 501, 'Qualifications', 13, '00:02:30'),
(1003, 501, 'Team Pursuit', 4, '00:09:06'),
(1011, 503, 'Little 500', 10, '02:18:06'),
(1011, 503, 'Qualifications', 26,'00:02:39'),
(1012, 503, 'Little 500', 16, '02:13:36'),
(1012, 503, 'Qualifications', 18, '00:02:36'),
(1013, 503, 'Little 500', 13, NULL),
(1013, 503, 'Qualifications', 17, '00:02:25'),
(1014, 503, 'Little 500', 13, NULL),
(1014, 503, 'Qualifications', 12, '00:02:26'),
(1015, 504, 'Little 500', 1, '00:02:04'),
(1015, 504, 'Qualifications', 9, '00:02:21'),
(1016, 504, 'Little 500', 5, '02:04:52'),
(1016, 504, 'Qualifications', 20, '00:02:25'),
(1009, 502, 'Little 500', 24, '02:16:06'),
(1009, 502, 'Qualifications', 20, '00:03:15'),
(1006, 504, 'Little 500', 15, '02:10:10'),
(1006, 504, 'Qualifications', 23, '00:02:30'),
(1008, 504, 'Little 500', 18, '02:11:43'),
(1008, 504, 'Qualifications', 12, '00:02:30'),
(1007, 505, 'Little 500', 20, '02:05:50'),
(1007, 505, 'Qualifications', 15, '00:02:27'),
(1017, 505, 'Little 500', 18, '02:12:40'),
(1017, 505, 'Qualifications', 21, '00:02:32'),
(1018, 506, 'Little 500', 1, '02:12:30'),
(1018, 506, 'Team Pursuit', 3, '00:11:10'),
(1019, 506, 'Little 500', 4, '02:15:39'),
(1019, 506, 'Qualifications', 10, '00:03:05'),
(1019, 506, 'Team Pursuit', 3, '00:11:35'),
(1005, 506, 'Little 500', 4, '02:12:53'),
(1005, 506, 'Qualifications', 7, '00:03:04'),
(1005, 506, 'Team Pursuit', 3, '00:11:01'),
(1001, 506, 'Little 500', 3, '02:14:59'),
(1001, 506, 'Qualifications', 4, '00:02:53'),
(1001, 506, 'Team Pursuit', 3, '00:10:46'),
(1019, 504, 'Little 500', 24, '02:16:03'),
(1019, 504, 'Qualifications', 32, '00:03:00'),
(1019, 504, 'Team Pursuit', 31, '00:11:55'),
(1005, 504, 'Little 500', 18, '02:15:40'),
(1005, 504, 'Qualifications', 21, '00:02:46'),
(1005, 504, 'Team Trials', 23, '00:10:36'),
(1001, 504, 'Little 500', 10, '2:12:59'),
(1001, 504, 'Qualifications', 10, '00:02:35'),
(1001, 504, 'Team Trials', 14, '00:10:10')
;